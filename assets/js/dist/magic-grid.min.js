/*!
 * Chirpy v5.4.0 (https://github.com/cotes2020/jekyll-theme-chirpy/)
 * Â© 2019 Cotes Chung
 * MIT Licensed
 */
function allImages(){for(var e="",t=(e+="<table>",Math.sqrt(images.length)),n=0,a=0,i=0;i<t;i++){e+="<tr>";for(var r=0;r<t;r++)content=images[n],e+="<td class= 'all-panel' id='"+n+++"'><div class='all-front'><img src='/assets/img/magic-grid/"+content+".jpg' alt='"+content+"' /></div>";e+="<tr class='all-name'>";for(r=0;r<t;r++)content=images[a++],e+="<td class= 'all-panel' >"+people[content]}return e+="</table>"}var selectedArray;function Grid(e){this.content=RandomGenerator.generateContent(e),this.condition=RandomGenerator.generateCondition(this.content),this.displayCondition="Find Grids With Photo of : "+people[this.condition],this.totalNumber=this.GetResultArray().length,this.leftNumber=this.GetResultArray().length,selectedArray=new Array}function sameOneSelect(e){return selectedArray.contains(e)}$(document).ready(function(){$("#main-all").html(allImages()),$("#main-all td").hover(function(){$(this).css({"z-index":"10"}),$(this).find("img").addClass("hover").stop().animate({marginTop:"0",marginLeft:"0px",top:"50%",left:"50%",width:"80px",height:"80px"},200)},function(){$(this).css({"z-index":"0"}),$(this).find("img").removeClass("hover").stop().animate({marginTop:"0px",marginLeft:"0px",top:"0",left:"0",width:"50px",height:"50px"},200)})}),function(e){var n=[];e.preLoadImages=function(){for(var e=arguments.length;e--;){var t=document.createElement("img");t.src=arguments[e],n.push(t)}}}(jQuery),Grid.prototype.handleClickEvent=function(e){$("#"+e).addClass("flip");for(var t=0;t<this.totalNumber;t++)if((valueIndex=this.GetResultArray()[t])==e)return sameOneSelect(valueIndex)||(this.leftNumber--,selectedArray.push(e)),!0;return!1},Grid.prototype.GetResultArray=function(){return this.result(this.condition)},Grid.prototype.generateTable=function(){for(var e="",t=(e+="<table>",Math.sqrt(this.content.length)),n=0,a=0;a<t;a++){e+="<tr>";for(var i=0;i<t;i++)content=this.content[n],title=people[content],e+="<td class= 'panel' id='"+n+++"'><div class='front'><img src='/assets/img/magic-grid/"+content+".jpg' alt='"+content+"' title='"+title+"' /></div><div class='back'><img src='/assets/img/magic-grid/question.jpg' alt='"+content+"' /></div>"}return e+="</table>"},Grid.prototype.findIndexInArray=function(e){for(var t=new Array,n=0;n<this.content.length;n++)this.content[n]==e&&t.push(n);return t},Grid.prototype.result=function(e){return this.findIndexInArray(e)},Array.prototype.remove=function(e){for(var t=new Array,n=0;n<this.length;n++)n!=e&&t.push(this[n]);return t},Array.prototype.contains=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return!0;return!1};var watchIntervalId,guessIntervalId,images=["changxin","fubo","fuying","gaoli","huangliang","hukai","jiangpeng","jiangqingsong","jiayongna","jinming","limo","liufan","liuyao","lixiang","luowenjing","michaelchen","peixinrui","renjing","sunlong","sunyan","tony","wangxia","wangxiaosheng","wangyuheng","wushaobo","xiajie","xiaopeng","xiongjie","xiongzichuan","xuhao","zhanglei","zhanglin","zhangxiaoqing","zhengye","zhangyuheng","zhouxiaoqiang"],people={changxin:"Chang Xin",fubo:"Fu Bo",fuying:"Fu Ying",gaoli:"Gao Li",huangliang:"Huang Liang",hukai:"Hu Kai",jiangpeng:"Jiang Peng",jiangqingsong:"Jiang Qingsong",jiayongna:"Jia Yongna",jinming:"Jin Ming",limo:"Li Mo",liufan:"Liu Fan",liuyao:"Liu Yao",lixiang:"Li Xiang",luowenjing:"Luo Wenjing",michaelchen:"Chen Jinzhou",peixinrui:"Pei Xinrui",renjing:"Ren Jing",sunlong:"Sun Long",sunyan:"Sun Yan",tony:"Qiao Liang",wangxia:"Wang Xia",wangxiaosheng:"Wang Xiaosheng",wangyuheng:"Wang Yuheng",wushaobo:"Wu Shaobo",xiajie:"Xia Jie",xiaopeng:"Xiao Peng",xiongjie:"Xiong Jie",xiongzichuan:"Xiong Zichuan",xuhao:"Xu Hao",zhanglei:"Zhang Lei",zhanglin:"Zhang Lin",zhangxiaoqing:"Zhang Xiaoqing",zhengye:"Zheng Ye",zhangyuheng:"Zhang Yuheng",zhouxiaoqiang:"Zhou Xiaoqiang"};function RandomGenerator(){}function generateNumberWithin(e){return Math.floor(Math.random()*e)}function State(){this.levels=[2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,5,5,5,5,5],this.lifeNumber=3,this.currentStage=0,this.totalScore=0,this.success=!1,this.stopped=!1,this.currentLevel=this.levels[this.currentStage]}RandomGenerator.generateCondition=function(e){return e[generateNumberWithin(e.length)]},RandomGenerator.generateContent=function(e){for(var t=new Array,n=RandomGenerator.generateCandidateContent(3),a=0;a<e*e;a++){var i=generateNumberWithin(3);t.push(n[i])}return t},RandomGenerator.generateCandidateContent=function(e){for(var t=new Array,n=0;n<e;n++){var a=generateNumberWithin(images.length);t.push(images[a])}return t},State.prototype.getNextStageLevel=function(){return this.getCurrentLevel(++this.currentStage)},State.prototype.getCurrentLevel=function(){var e=this.levels.length;return this.currentStage<e?this.levels[this.currentStage]:this.levels[e-1]};var state=new State;function preloadImg(){for(var e=0;e<images.length;e++)content=images[e],jQuery.preLoadImages("/assets/img/magic-grid/"+content+".jpg")}$(document).ready(function(){preloadImg(),printInfo("<span>Welcome To Magic Grid. Good Luck! </span> <br/><br/><br/><br/> <a href='javascript:drawMainPage()'>Start!</a>")});var timeCountDown=3*state.getCurrentLevel();function drawMainPage(){stopWatchTime(),stopGuessTime();var e=new Grid(state.getNextStageLevel());timeCountDown=3*state.getCurrentLevel(),watchIntervalId=setInterval(function(){displayWatchPage(e,state)},1e3),writeTable(e),showLifeInfo(state.lifeNumber),showScoreInfo(state.totalScore),cleanLeftData()}function displayWatchPage(e,t){showTimeInfo()&&hideDataTable(e,t)}function displayGuessPage(e){showTimeInfo()&&(stopGuessTime(),state.stopped=!0,showLeftImages(e),printLose())}function showTimeInfo(){return 0<=timeCountDown?($("#time").html("<span>"+timeCountDown--+"</span>"),!1):(cleanLeftData(),!0)}function showLifeInfo(e){for(var t="<div>",n=0;n<e;n++)t+="<img src = '/assets/img/magic-grid/life.jpg'>";t+="</div>",$("#life").html(t)}function showScoreInfo(e){$("#score").html("Score: "+e)}function nextStage(){$("header .info").html(""),state.stopped=!1,drawMainPage()}function handleResult(e,t,n){e.handleClickEvent(t)?$("#"+t+" .back img").attr("src","/assets/img/magic-grid/"+e.content[t]+".jpg"):(showLifeInfo(--n.lifeNumber),$("#"+t+" .back img").attr("src","/assets/img/magic-grid/sad.jpg")),0==e.leftNumber&&(stopGuessTime(),cleanLeftData(),n.success=!0,n.stopped=!0,n.totalScore+=100,printInfo("<span class='win'>Congratulations! </span><a href='javascript:nextStage()'>Go Next!</a>")),n.lifeNumber<=0&&(stopGuessTime(),n.success=!1,n.stopped=!0,showLeftImages(e),printLose()),writeResultStatus(e)}function showLeftImages(e){result=e.GetResultArray();for(var t=0;t<result.length;t++)current=result[t],$("#"+current).addClass("flip"),$("#"+current+" .back img").attr("src","images/"+e.content[current]+".jpg")}function cleanLeftData(){$("#time").html(""),$("#result").html(""),printInfo("")}function printInfo(e){$("#status .info").html(e)}function printLose(){printInfo("<span class='lose'>You lose! </span><a href='javascript:replay()'>Try Again?</a>")}function hideDataTable(e,t){stopWatchTime(),$.each($(".front img"),function(){$(this).fadeOut("slow",function(){$(this).attr("src","/assets/img/magic-grid/question.jpg"),$(this).attr("title","")}),$(this).fadeIn("slow")}),triggerGuessPage(e,t),writeResultStatus(e),showLifeInfo(t.lifeNumber)}function triggerGuessPage(e,t){timeCountDown=3*t.getCurrentLevel(),$("td").click(function(){t.stopped||handleResult(e,this.id,t)}),guessIntervalId=setInterval(function(){displayGuessPage(e)},1e3),printInfo(e.displayCondition)}function writeResultStatus(e){$("#result").html("Left : "+e.leftNumber+"/"+e.totalNumber)}function writeTable(e){$("#main").html(e.generateTable())}function stopWatchTime(){clearInterval(watchIntervalId)}function stopGuessTime(){clearInterval(guessIntervalId)}function replay(){location.reload()}
